using System;

class Program
{
    static void Main()
    {
        // Пример использования:
        int[] arr = { 9, 7, 5, 11, 12, 2, 14, 3, 10, 6 };

        Console.WriteLine("Исходный массив:");
        PrintArray(arr);

        CountingSort(arr);

        Console.WriteLine("Отсортированный массив:");
        PrintArray(arr);
    }

    static void CountingSort(int[] arr)
    {
        int n = arr.Length;

        // Находим максимальное и минимальное значения в массиве
        int max = GetMaxValue(arr);
        int min = GetMinValue(arr);

        // Создаем вспомогательный массив для подсчета элементов
        int[] count = new int[max - min + 1];

        // Считаем количество вхождений каждого элемента
        for (int i = 0; i < n; i++)
        {
            count[arr[i] - min]++;
        }

        // Восстанавливаем отсортированный массив
        int index = 0;
        for (int i = 0; i < count.Length; i++)
        {
            while (count[i] > 0)
            {
                arr[index] = i + min;
                index++;
                count[i]--;
            }
        }
    }

    static int GetMaxValue(int[] arr)
    {
        int max = arr[0];
        int n = arr.Length;

        for (int i = 1; i < n; i++)
        {
            if (arr[i] > max)
            {
                max = arr[i];
            }
        }

        return max;
    }

    static int GetMinValue(int[] arr)
    {
        int min = arr[0];
        int n = arr.Length;

        for (int i = 1; i < n; i++)
        {
            if (arr[i] < min)
            {
                min = arr[i];
            }
        }

        return min;
    }

    static void PrintArray(int[] arr)
    {
        foreach (int num in arr)
        {
            Console.Write(num + " ");
        }

        Console.WriteLine();
    }
}

В данном примере функция CountingSort реализует алгоритм сортировки подсчетом. Она проходит по массиву и считает количество вхождений каждого элемента, используя вспомогательный массив count. Затем она восстанавливает отсортированный массив, перебирая значения вспомогательного массива count и записывая элементы в исходный массив в соответствии с их количеством.

Функции GetMaxValue и GetMinValue используются для нахождения максимального и минимального значений в массиве, чтобы определить диапазон значений для создания вспомогательного массива count.